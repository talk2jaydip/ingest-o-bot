# ==========================================
# SCENARIO 1: Local Development
# Local Input → Local Artifacts
# ==========================================
# Use for: Local development, debugging, testing
# Read from: Local filesystem
# Store to: Local disk (./test_artifacts/)
# ==========================================

# ==========================================
# Azure Service Principal Credentials
# ==========================================
AZURE_TENANT_ID=your-tenant-id-here
AZURE_CLIENT_ID=your-client-id-here
AZURE_CLIENT_SECRET=your-client-secret-here

# ==========================================
# Key Vault Configuration (Optional)
# ==========================================
KEY_VAULT_URI=https://your-keyvault.vault.azure.net/

# ==========================================
# Document Intelligence
# ==========================================
AZURE_DOC_INT_ENDPOINT=https://your-di.cognitiveservices.azure.com/
AZURE_DOC_INT_KEY=your-di-key-here
AZURE_DI_MAX_CONCURRENCY=3

# ==========================================
# Azure AI Search
# ==========================================
AZURE_SEARCH_SERVICE=your-search-service
AZURE_SEARCH_KEY=your-search-key-here
AZURE_SEARCH_INDEX=your-dev-index

# ==========================================
# Azure OpenAI
# ==========================================
AZURE_OPENAI_ENDPOINT=https://your-openai.openai.azure.com/
AZURE_OPENAI_KEY=your-openai-key-here
AZURE_OPENAI_API_KEY=your-openai-key-here
AZURE_OPENAI_API_VERSION=2024-12-01-preview
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-ada-002
AZURE_OPENAI_EMBEDDING_MODEL=text-embedding-ada-002
AZURE_OPENAI_EMBEDDING_NAME=text-embedding-ada-002
AZURE_OPENAI_CHAT_DEPLOYMENT=gpt-4o-mini
AZURE_OPENAI_MODEL_NAME=gpt-4o-mini
AZURE_OPENAI_MODEL=gpt-4o-mini

# Concurrency and retries
AZURE_OPENAI_MAX_CONCURRENCY=5
AZURE_OPENAI_MAX_RETRIES=3

# ==========================================
# Azure Storage Account
# ==========================================
AZURE_STORAGE_ACCOUNT=your-storage-account
AZURE_STORAGE_ACCOUNT_KEY=your-storage-key-here
AZURE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your-storage-account;AccountKey=your-storage-key-here;EndpointSuffix=core.windows.net

# ==========================================
# SCENARIO 1: Local Input → Local Artifacts
# ==========================================
AZURE_INPUT_MODE=local
AZURE_LOCAL_GLOB=samples/**/*.pdf

# Examples:
# - AZURE_LOCAL_GLOB=samples/sample.pdf           (single file)
# - AZURE_LOCAL_GLOB=./documents/*.pdf            (all PDFs in folder)
# - AZURE_LOCAL_GLOB=./documents/**/*             (recursive, all files)
# - AZURE_LOCAL_GLOB=./docs/**/*.{pdf,txt,md}     (multiple types)

# Store artifacts locally
AZURE_ARTIFACTS_DIR=./test_artifacts

# ==========================================
# Document Action Mode
# ==========================================
AZURE_DOCUMENT_ACTION=add
# Options: add, remove, removeall

# ==========================================
# Document Intelligence Extraction
# ==========================================
# Extraction method for PDFs (affects quality and cost)
EXTRACTION_METHOD=layout_then_ocr
# Options:
# - layout: Fast, layout analysis only (best for digital PDFs)
# - layout_then_ocr: Layout first, OCR if text density low (RECOMMENDED)
# - ocr: Full OCR (slowest, best for scanned docs)
# - prebuilt-layout: Use prebuilt layout model

# DI batch settings
DI_BATCH_SIZE=16
DI_MAX_RETRIES=3

# ==========================================
# PDF Processing
# ==========================================
# Split PDFs into individual pages (enables page-level citations)
SPLIT_PDF_BY_PAGE=false
# Set to true for:
# - Direct page citations in search results
# - Page-level granularity
# - Better for large PDFs
# Note: Creates more chunks, slower processing

# ==========================================
# Chunking Configuration
# ==========================================
# Target tokens per chunk (balance between context and precision)
CHUNKER_TARGET_TOKEN_COUNT=8100
# Options:
# - 4000: Smaller chunks, precise retrieval, more chunks
# - 8100: Default, balanced (RECOMMENDED)
# - 16000: Larger chunks, more context, fewer chunks

# Token overlap between chunks (maintains context across boundaries)
CHUNKER_OVERLAP_TOKEN_COUNT=100
# Options:
# - 50: Minimal overlap
# - 100: Standard overlap (RECOMMENDED)
# - 200: More overlap for better continuity

# Disable character-based limits (token-only chunking)
CHUNKER_DISABLE_CHAR_LIMIT=true

# Cross-page overlap for text chunks
CHUNKER_CROSS_PAGE_OVERLAP=true

# ==========================================
# Table Processing
# ==========================================
# Table rendering format
TABLE_RENDER_MODE=markdown
# Options:
# - markdown: Human-readable, compatible (RECOMMENDED)
# - html: Full formatting, cell spanning, better for complex tables

# Generate table summaries (uses Azure OpenAI)
TABLE_SUMMARIES=false
# Set to true to generate AI summaries of tables (costs extra)

# ==========================================
# Figure/Image Processing
# ==========================================
# Media describer mode for figures and images
MEDIA_DESCRIBER_MODE=none
# Options:
# - none: No descriptions (fast, free)
# - gpt4o: GPT-4o descriptions (best quality, costs extra)
# - gpt4o-mini: GPT-4o-mini descriptions (cheaper, good quality)

# ==========================================
# Processing Options
# ==========================================
AZURE_USE_INTEGRATED_VECTORIZATION=true

# ==========================================
# Performance Tuning
# ==========================================
AZURE_MAX_WORKERS=4
AZURE_INNER_ANALYZE_WORKERS=1
AZURE_UPLOAD_DELAY=0.2
AZURE_EMBED_BATCH_SIZE=128
AZURE_UPLOAD_BATCH_SIZE=500

# ==========================================
# Office Document Processing
# SCENARIO: Hybrid Mode with Fallback (RECOMMENDED)
# ==========================================
AZURE_OFFICE_EXTRACTOR_MODE=hybrid
AZURE_OFFICE_OFFLINE_FALLBACK=true
AZURE_OFFICE_MAX_FILE_SIZE_MB=100
AZURE_OFFICE_EQUATION_EXTRACTION=true
AZURE_OFFICE_VERBOSE=true

# Optional: LibreOffice for DOC files
# AZURE_OFFICE_LIBREOFFICE_PATH=/usr/bin/soffice  # Linux/Mac
# AZURE_OFFICE_LIBREOFFICE_PATH=C:\\Program Files\\LibreOffice\\program\\soffice.exe  # Windows

# ==========================================
# TO USE THIS FILE:
# cp envs/env.scenario1-local-dev.example .env
# Then edit .env with your real credentials
# ==========================================
